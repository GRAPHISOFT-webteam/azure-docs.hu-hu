<a id="what-are-service-bus-queues"></a>
## 什麼是服務匯流排佇列？

服務匯流排佇列支援 **代理訊息** 通訊
模型。 使用佇列時，分散式應用程式的元件彼此不
直接相互通訊。而是他們透過交換訊息
佇列，以扮演中繼角色 (代理人)。 訊息產生者 (傳送者)
將訊息至佇列，然後繼續其處理。
訊息取用者 (接收者) 非同步地從
排入佇列並進行處理。 產生者不必等待取用者的回覆
若要繼續處理及傳送其他取用者
程式。 佇列會提供 **先進、 先出 (FIFO)** 訊息傳遞
一或多個競爭取用者。 亦即，通常
接收並處理它們是為了接收者
新增至佇列，以及每個訊息會接收並處理只有
一個訊息取用者。

![佇列概念](./media/service-bus-java-how-to-create-queue/sb-queues-08.png)

服務匯流排佇列是一項通用技術，適用於
各種不同的案例:

-   多層式中的 Web 角色和背景工作角色之間的通訊
    Azure 應用程式。
-   代管應用程式的內部部署應用程式和 Azure 之間的通訊
    在混合式解決方案。
-   分散式應用程式元件之間的通訊
    執行在不同組織或部門的內部部署
    組織。

使用佇列可讓您更輕鬆地擴充您的應用程式和
啟用多個架構的備援能力。

## 建立服務命名空間

若要開始在 Azure 中使用服務匯流排佇列，您必須先
建立服務命名空間。 命名空間提供範圍
容器，供您的應用程式內定址服務匯流排資源。

建立服務命名空間：

1.  登入 [Azure 傳統入口網站][]。

2.  在入口網站的左方瀏覽窗格中，按一下
    **服務匯流排**。

3.  在入口網站的下方窗格中，按一下 [ **建立**。
    ![](./media/service-bus-java-how-to-create-queue/sb-queues-03.png)

4.  在 **加入新的命名空間** ] 對話方塊中，輸入命名空間名稱。
    系統會立即檢查此名稱是否可用。
    ![](./media/service-bus-java-how-to-create-queue/sb-queues-04.png)

5.  確定命名空間名稱可用之後，請選擇
    您的命名空間應裝載在哪個國家或地區 (請
    確實使用您部署運算資源所在的相同
    國家/地區)。

    重要事項: 請挑選 **同一個地區** 您想要的選擇
    來部署應用程式。 這樣可以獲得最佳效能。

6.  讓對話方塊中的其他欄位保留其預設值 (**Messaging** 和 **標準層**)，然後按一下核取記號。 此時系統會建立並啟用命名空間。 系統為帳戶提供資源時，您可能需要等幾分鐘。

    ![](./media/service-bus-java-how-to-create-queue/getting-started-multi-tier-27.png)

然後，您建立的命名空間稍待片刻就會生效，然後就會出現在 Azure 入口網站中。 等到命名空間狀態變成 **Active** 才能繼續。

## 取得命名空間的預設管理認證

若要在新的命名空間上執行管理作業 (例如建立佇列)，
您必須取得命名空間的管理認證
。 您可以從入口網站取得這些認證。

###從入口網站取得管理認證

1.  在左的導覽窗格中，按一下 [ **服務匯流排** 節點至
    顯示可用的命名空間清單：
    ![](./media/service-bus-java-how-to-create-queue/sb-queues-13.png)

2.  從顯示的清單中，選取您剛建立的命名空間。

3.  按一下 [ **設定** ，檢視您的命名空間的共用的存取原則。
    ![](./media/service-bus-java-how-to-create-queue/sb-queues-14.png)

4.  記下主要金鑰，或將它複製到剪貼簿。

  [Azure classic portal]: http://manage.windowsazure.com

  [34]: ./media/service-bus-java-how-to-create-queue/VSProperties.png


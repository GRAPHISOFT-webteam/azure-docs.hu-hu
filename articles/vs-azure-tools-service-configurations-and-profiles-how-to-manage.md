<properties
   pageTitle="如何管理服務組態和設定檔 | Microsoft Azure"
   description="了解如何使用服務組態和設定檔組態檔案 | 其儲存部署環境的設定及雲端服務的發佈設定。"
   services="visual-studio-online"
   documentationCenter="na"
   authors="TomArcher"
   manager="douge"
   editor="" />
<tags
   ms.service="multiple"
   ms.devlang="dotnet"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="multiple"
   ms.date="08/13/2015"
   ms.author="tarcher" />

# 如何管理服務組態和設定檔

## 概觀

當您發佈雲端服務時，Visual Studio 會將組態資訊儲存在兩種組態檔中：服務組態和設定檔。 服務組態 (.cscfg 檔) 可儲存 Azure 雲端服務的部署環境設定。 Azure 會在管理雲端服務時使用這些組態檔。 另一方面，設定檔 (.azurePubxml 檔案) 可儲存雲端服務的發佈設定。 這些設定是您使用發佈精靈時所選內容的記錄，可由 Visual Studio 在本機使用。 本主題說明如何使用這兩種類型的組態檔。

## 服務組態

您可以建立多個服務組態，以便用於每個部署環境。 例如，您可針對用來執行和測試 Azure 應用程式的本機環境建立一個服務組態，針對實際執行環境建立另一個服務組態。

您可以根據需求來新增、刪除、重新命名和修改這些服務組態。 您可以從 Visual Studio 管理這些服務組態，如下圖所示。

![管理服務組態](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-service-config.png)

您也可以開啟 **管理組態** 從角色的屬性頁] 對話方塊。 若要在 Azure 專案中開啟角色的屬性，開啟該角色的捷徑功能表，然後選擇 [ **屬性**。 在 **設定** 索引標籤上，依序展開 **服務組態** 清單，然後再按 **管理** 開啟 **管理組態** 對話方塊。

### 新增服務組態

1. 在 [方案總管] 中，開啟 Azure 專案的捷徑功能表，然後按一下 **管理組態**。

     **管理服務組態** ] 對話方塊隨即出現。

1. 若要新增服務組態，您必須建立一份現有的組態。 若要這樣做，請選擇 [設定您要複製的 [名稱] 清單，然後按一下 **建立複本**。

1. (選擇性)為服務組態指定不同的名稱，從 [名稱] 清單中選擇新的服務組態，然後按一下 **重新命名**。 在 **名稱** 文字中，輸入您想要使用此服務組態，然後按一下 [名稱 **確定**。

    名為 Serviceconfiguration.< 新服務組態檔。<New Name>.cscfg 被加入至 [方案總管] 中的 Azure 專案。


### 刪除服務組態

1. 在 [方案總管] 中，開啟 Azure 專案的捷徑功能表，然後按一下 **管理組態**。

     **管理服務組態** ] 對話方塊隨即出現。

1. 若要刪除的服務組態，選擇您想要刪除的設定 **名稱** 清單，然後按一下 **移除**。 隨即出現一個對話方塊，以確認您要刪除此組態。

1. 按一下 [ **刪除**。

     在 [方案總管] 中，此服務組態檔會從 Azure 專案中移除。


### 重新命名服務組態

1. 在 [方案總管] 中，開啟 Azure 專案的捷徑功能表，然後按一下 **管理組態**。

     **管理服務組態** ] 對話方塊隨即出現。

1. 若要重新命名服務組態，請選擇 [從新的服務組態 **名稱** 清單，然後按一下 **重新命名**。 在 **名稱** 文字中，輸入您想要使用此服務組態，然後按一下 [名稱 **確定**。

    在 [方案總管] 中，此服務組態檔的名稱會在 Azure 專案中變更。

### 變更服務組態

- 如果您要變更服務組態，請開啟您要在 Azure 專案中變更的特定角色的捷徑功能表，然後按一下 [屬性]。 請參閱 [How to: 設定 Azure 雲端服務與 Visual Studio 的角色](https://msdn.microsoft.com/library/azure/hh369931.aspx) 如需詳細資訊。

## 使用設定檔製作不同的設定組合

使用設定檔，您可以自動填滿 **發行精靈** 的設定，針對不同用途的不同組合。 例如，您可有一個設定檔用於偵錯，另一個設定檔用於發行組建。 在此情況下，您 **偵錯** 設定檔會有 **IntelliTrace** 啟用和 **偵錯** 組態選取此選項，並以您 **版本** 設定檔會有 **IntelliTrace** 停用和 **版本** 選取的組態。 您也可以使用不同的設定檔，部署使用不同儲存體帳戶的服務。

當您第一次執行精靈時，會建立預設設定檔。 Visual Studio 以副檔名為.azurePubXml，以便新增至 Azure 專案檔案中儲存的設定檔 **設定檔** 資料夾。 如果您在執行精靈時手動指定不同的選擇，此檔案會自動更新。 執行下列程序之前，您應該已經發佈您的雲端服務至少一次。

### 新增設定檔

1. 開啟 Azure 專案的捷徑功能表，然後按一下 **發行**。

1. 旁邊 **目標設定檔** 清單中，按一下 **儲存設定檔** ] 按鈕，如下圖所示。 這會為您建立設定檔。

    ![建立新的設定檔](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/create-new-profile.png)

1. 在建立設定檔之後，請按一下 **< 管理...> >** 中 **目標設定檔** 清單。

     **管理設定檔** 對話方塊隨即出現，如下圖所示。

    ![管理設定檔對話方塊](./media/vs-azure-tools-service-configurations-and-profiles-how-to-manage/manage-profiles.png)

1. 在 **名稱** 清單，請選擇設定檔，然後再按 **建立複本**。

1. 選擇 **關閉** ] 按鈕。

    新的設定檔會出現在 [目標設定檔] 清單中。

1. 在 **目標設定檔** 清單中，按一下您剛才建立的設定檔。 [發佈精靈] 設定會填入您所選設定檔中的選項。

1. 按一下 [ **上一步** 和 **下一步** 按鈕以顯示每個頁面的 [發行精靈]，然後自訂此設定檔的設定。 請參閱 [發行 Azure 應用程式精靈](http://go.microsoft.com/fwlink/p/?LinkID=623085) 資訊。

1. 個人化設定完成之後，請按一下 **下一步** ，前往 [設定] 頁面。 當您使用這些設定發行服務時，或如果您按一下 [儲存設定檔 **儲存** 清單旁邊的設定檔。

### 重新命名或刪除設定檔

1. 開啟 Azure 專案的捷徑功能表，然後按一下 **發行**。

1. 在 **目標設定檔** 清單中，按一下 **管理**。

1. 在 **管理設定檔** 對話方塊方塊中，按一下您想要刪除，然後按一下 [設定檔 **移除**。

1. 在出現確認對話方塊中按一下 [ **確定**。

1. 按一下 [ **關閉**。

### 變更設定檔

1. 開啟 Azure 專案的捷徑功能表，然後按一下 **發行**。

1. 在 **目標設定檔** 清單中，按一下您想要變更的設定檔。

1. 按一下 [ **上一步** 和 **下一步** 按鈕以顯示每個頁面的 [發行精靈]，然後變更您想要的設定。 請參閱 [發行 Azure 應用程式精靈](http://go.microsoft.com/fwlink/p/?LinkID=623085) 資訊。

1. 完成 [變更設定後，按一下 **下一步** 回到 **設定** 頁面。

1. (選擇性)按一下 [ **發行** 發行雲端服務使用新的設定。 如果您不想在此時發佈雲端服務，而關閉 [發佈精靈]，Visual Studio 會詢問您是否要將變更儲存至設定檔。

## 後續步驟

若要深入了解設定 Azure 專案從 Visual Studio 的其他部分，請參閱 [設定 Azure 專案](http://go.microsoft.com/fwlink/p/?LinkID=623075)

